<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TODO</title>
    <link rel="stylesheet" href="todo.css">
  </head>
  <body>

    <h1>TO DO LIST</h1>
    
    <div>
      
      <form id="form">
        <label for="task">Task Name</label><br />
        <input id="task" type="text" placeholder="Enter Task Name" /><br />

        <label for="priority">Priority </label><br />
        <select id="priority">
          <option value="">Select Priority</option>
          <option value="High">High</option>
          <option value="Low">Low</option>
        <br /> <br>
        </select>

        <!-- <label for="Favourite">Favourite</label> -->
        <input onclick="show()" type="submit"/>

    
      </form>


      <table id="create_tr">
        <!-- Dont change order of columns -->
        <thead>
          <tr>
            <th>Task</th>
            <th>Priority</th>
            <th>Favourite</th>
          </tr>
        </thead>
        <tbody>
        <!-- Append your output to tbody -->
        </tbody>
      </table>


    </div>

  </body>

</html>

<script>
    document.querySelector("form").addEventListener("submit",todoFun)

    function todoFun() {
        event.preventDefault()
        let name = document.getElementById("task").value
        let id = document.getElementById("priority").value

        let tr = document.createElement("tr")

        let td1 = document.createElement("td")
        td1.innerHTML = name

        let td2 = document.createElement("td")
        td2.innerHTML = id

        if(id === "High"){
            td2.style.backgroundColor = "rgba(156, 94, 214, 0.574)"
            td2.style.color = "white"
        } else{
            td2.style.backgroundColor = "plum"
        }

        let td3 = document.createElement("td")
        td3.innerHTML = "delete"

        td3.addEventListener("click",function() {
            tr.remove()
        })

        tr.append(td1,td2,td3)

        document.querySelector("tbody").append(tr)
    }
</script>